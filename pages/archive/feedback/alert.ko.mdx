import { Comment, Alert, Card, Icon, Required } from 'components'
import { BackTop } from 'containers'
import { Tab, Tabs } from 'nextra-theme-docs'

<BackTop />

# Alert

## Example

## Steps

<div className='steps'>

### Prerequisite

<Card.List>
  <Card.Component
    title="useObjectState"
    href="/archive/hooks/useObjectState"
    Icon={Icon.Hook}
  />
</Card.List>

### Install Package

<Tabs items={['npm', 'yarn']}>
  {/* prettier-ignore */}
  <Tab>
    ```bash
    npm install @heroicons/react classnames
    ```
    </Tab>
  {/* prettier-ignore */}
  <Tab>
    ```bash
    yarn add @heroicons/react classnames
    ```
</Tab>
</Tabs>

### Define Types

```ts filename="types/index.d.ts"
interface ReactProps {
  children?: ReactNode
}
```

### Copy Code

```tsx filename="components/Alert/index.tsx"
import { useEffect } from 'react'
import type { FC } from 'react'
import classnames from 'classnames'
import { ExclamationCircleIcon, XMarkIcon } from '@heroicons/react/24/outline'
import { useObjectState } from 'services'

export interface Props extends ReactProps {
  type: 'success' | 'info' | 'warn' | 'error'
  message: string
  close?: boolean
}
interface State {
  isClosed: boolean
  isDisplay: boolean
}

const Alert: FC<Props> = ({ type, message, close, children }) => {
  const [{ isClosed, isDisplay }, setState] = useObjectState<State>({
    isClosed: false,
    isDisplay: true
  })
  useEffect(() => {
    if (isClosed) {
      setTimeout(() => setState({ isDisplay: false }), 150)
    }
  }, [isClosed])
  if (!isDisplay) return null
  return (
    <div
      className={classnames('flex justify-between border p-6', {
        'bg-red-50': type === 'error',
        'bg-sky-50': type === 'success',
        'bg-orange-50': type === 'warn',
        'bg-neutral-50': type === 'info',
        'transition-opacity duration-150': close,
        'opacity-100': close && !isClosed,
        'opacity-0': close && isClosed
      })}
    >
      <div className="flex items-start gap-3">
        <ExclamationCircleIcon
          className={classnames('h-5 w-5', {
            'text-red-500': type === 'error',
            'text-sky-500': type === 'success',
            'text-orange-500': type === 'warn',
            'text-neutral-500': type === 'info'
          })}
        />

        <div className="text-sm">
          {message}
          {children}
        </div>
      </div>
      {close && !isClosed && (
        <XMarkIcon
          onClick={() => setState({ isClosed: true })}
          className="h-5 w-5 cursor-pointer text-neutral-700"
        />
      )}
    </div>
  )
}

export default Alert
```

### Usage

</div>

### Props

| Name                    |              Type               | Default |
| :---------------------- | :-----------------------------: | :-----: |
| **type**<Required />    | `success` `info` `warn` `error` |         |
| **message**<Required /> |             string              |         |
| **close**               |             boolean             |         |
| **children**            |            ReactNode            |         |

<Comment />
