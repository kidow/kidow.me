import { Comment, Card, Table, Required } from 'components'
import { BackTop } from 'containers'
import { CubeIcon } from '@heroicons/react/24/outline'
import { Tab, Tabs } from 'nextra-theme-docs'

<BackTop />

# Table

## Example

### Default

<div className="mt-4">
  <Table
    list={[
      { company: 'Apple', country: 'US', ceo: 'Tim Cook' },
      { company: 'Tesla', country: 'US', ceo: 'Elon Musk' },
      { company: 'Facebook', country: 'US', ceo: 'Mark Zuckerburg' },
      { company: 'Microsoft', country: 'US', ceo: 'Satya Nadella' }
    ]}
    columns={
      <tr>
        <th>Company</th>
        <th>Country</th>
        <th>CEO</th>
      </tr>
    }
    renderItem={(item, key) => (
      <tr key={key}>
        <td>{item.company}</td>
        <td>{item.country}</td>
        <td>{item.ceo}</td>
      </tr>
    )}
  />
</div>

### Loading

<div className="mt-4">
  <Table
    list={[
      { company: 'Apple', country: 'US', ceo: 'Tim Cook' },
      { company: 'Tesla', country: 'US', ceo: 'Elon Musk' },
      { company: 'Facebook', country: 'US', ceo: 'Mark Zuckerburg' },
      { company: 'Microsoft', country: 'US', ceo: 'Satya Nadella' }
    ]}
    columns={
      <tr>
        <th>Company</th>
        <th>Country</th>
        <th>CEO</th>
      </tr>
    }
    renderItem={(item, key) => (
      <tr key={key}>
        <td>{item.company}</td>
        <td>{item.country}</td>
        <td>{item.ceo}</td>
      </tr>
    )}
    loading
  />
</div>

### Size

<div className="mt-4 space-y-4">
  <Table
    list={[
      { company: 'Apple', country: 'US', ceo: 'Tim Cook' },
      { company: 'Tesla', country: 'US', ceo: 'Elon Musk' },
      { company: 'Facebook', country: 'US', ceo: 'Mark Zuckerburg' },
      { company: 'Microsoft', country: 'US', ceo: 'Satya Nadella' }
    ]}
    columns={
      <tr>
        <th>Company</th>
        <th>Country</th>
        <th>CEO</th>
      </tr>
    }
    renderItem={(item, key) => (
      <tr key={key}>
        <td>{item.company}</td>
        <td>{item.country}</td>
        <td>{item.ceo}</td>
      </tr>
    )}
    size="xs"
  />
  <Table
    list={[
      { company: 'Apple', country: 'US', ceo: 'Tim Cook' },
      { company: 'Tesla', country: 'US', ceo: 'Elon Musk' },
      { company: 'Facebook', country: 'US', ceo: 'Mark Zuckerburg' },
      { company: 'Microsoft', country: 'US', ceo: 'Satya Nadella' }
    ]}
    columns={
      <tr>
        <th>Company</th>
        <th>Country</th>
        <th>CEO</th>
      </tr>
    }
    renderItem={(item, key) => (
      <tr key={key}>
        <td>{item.company}</td>
        <td>{item.country}</td>
        <td>{item.ceo}</td>
      </tr>
    )}
    size="sm"
  />
  <Table
    list={[
      { company: 'Apple', country: 'US', ceo: 'Tim Cook' },
      { company: 'Tesla', country: 'US', ceo: 'Elon Musk' },
      { company: 'Facebook', country: 'US', ceo: 'Mark Zuckerburg' },
      { company: 'Microsoft', country: 'US', ceo: 'Satya Nadella' }
    ]}
    columns={
      <tr>
        <th>Company</th>
        <th>Country</th>
        <th>CEO</th>
      </tr>
    }
    renderItem={(item, key) => (
      <tr key={key}>
        <td>{item.company}</td>
        <td>{item.country}</td>
        <td>{item.ceo}</td>
      </tr>
    )}
    size="md"
  />
  <Table
    list={[
      { company: 'Apple', country: 'US', ceo: 'Tim Cook' },
      { company: 'Tesla', country: 'US', ceo: 'Elon Musk' },
      { company: 'Facebook', country: 'US', ceo: 'Mark Zuckerburg' },
      { company: 'Microsoft', country: 'US', ceo: 'Satya Nadella' }
    ]}
    columns={
      <tr>
        <th>Company</th>
        <th>Country</th>
        <th>CEO</th>
      </tr>
    }
    renderItem={(item, key) => (
      <tr key={key}>
        <td>{item.company}</td>
        <td>{item.country}</td>
        <td>{item.ceo}</td>
      </tr>
    )}
  />
</div>

### No Data

<div className="mt-4">
  <Table
    list={[]}
    columns={
      <tr>
        <th>Company</th>
        <th>Country</th>
        <th>CEO</th>
      </tr>
    }
    renderItem={(item, key) => <tr key={key}></tr>}
  />
</div>

## Steps

<div className="steps">

### Prerequisite

<Card.List>
  <Card.Component
    title="Spinner"
    href="/archive/feedback/Spinner"
    Icon={CubeIcon}
  />
</Card.List>

### Install Package

<Tabs items={['npm', 'yarn']}>
  {/* prettier-ignore */}
  <Tab>
    ```bash
    npm install classnames
    ```
    </Tab>
  {/* prettier-ignore */}
  <Tab>
    ```bash
    yarn add classnames
    ```
</Tab>
</Tabs>

### Copy Code

```tsx filename="components/Table/index.tsx"
import type { ReactNode } from 'react'
import classnames from 'classnames'
import { Spinner } from 'components'

export interface Props<T> {
  list: T[]
  columns: ReactNode
  renderItem: (item: T, index: number) => ReactNode
  loading?: boolean
  size?: 'xs' | 'sm' | 'md' | 'lg'
}

function Table<T>({
  columns,
  list,
  renderItem,
  loading,
  size = 'lg'
}: Props<T>) {
  return (
    <div
      className={classnames(
        'relative',
        loading ? 'cursor-progress overflow-hidden' : 'overflow-auto'
      )}
    >
      {loading && (
        <Spinner className="absolute left-1/2 top-1/2 z-[12] h-6 w-6 text-neutral-200" />
      )}
      <table
        className={classnames(
          'tw-table w-full border-collapse whitespace-nowrap text-center text-xs text-neutral-500 dark:text-neutral-50',
          {
            'pointer-events-none select-none opacity-60': loading,
            'tw-table-lg': size === 'lg',
            'tw-table-md': size === 'md',
            'tw-table-sm': size === 'sm',
            'tw-table-xs': size === 'xs'
          }
        )}
      >
        <thead className="sticky top-0 bg-neutral-100 tracking-wider dark:bg-neutral-700">
          {columns}
        </thead>
        <tbody>
          {!!list.length ? (
            list.map((item: T, key) => renderItem(item, key))
          ) : (
            <tr>
              <td
                colSpan={99}
                className="text-neutral-400 dark:text-neutral-500"
              >
                No Data.
              </td>
            </tr>
          )}
        </tbody>
      </table>
    </div>
  )
}

export default Table
```

```css filename="styles/global.css"
@layer base;
@layer components;
@layer utilities;

@layer components {
  .tw-table th,
  .tw-table td {
    @apply border dark:border-neutral-700;
  }
  .tw-table tr {
    @apply border-b last:border-b-0;
  }
  .tw-table th:first-child input[type='checkbox'],
  .tw-table td:first-child input[type='checkbox'] {
    @apply h-5 w-5 cursor-pointer align-middle disabled:cursor-not-allowed;
  }
  .tw-table-lg th,
  .tw-table-lg td {
    @apply px-6 py-3;
  }
  .tw-table-md th,
  .tw-table-md td {
    @apply px-4 py-2;
  }
  .tw-table-sm th,
  .tw-table-sm td {
    @apply px-2 py-1;
  }
  .tw-table-xs th,
  .tw-table-xs td {
    @apply px-1 py-0.5;
  }
}
```

### Usage

```tsx
<Table
  list={[
    { company: 'Apple', country: 'US', ceo: 'Tim Cook' },
    { company: 'Tesla', country: 'US', ceo: 'Elon Musk' },
    { company: 'Facebook', country: 'US', ceo: 'Mark Zuckerburg' },
    { company: 'Microsoft', country: 'US', ceo: 'Satya Nadella' }
  ]}
  columns={
    <tr>
      <th>Company</th>
      <th>Country</th>
      <th>CEO</th>
    </tr>
  }
  renderItem={(item, key) => (
    <tr key={key}>
      <td>{item.company}</td>
      <td>{item.country}</td>
      <td>{item.ceo}</td>
    </tr>
  )}
  loading
  size="md"
/>
```

</div>

### Props

| Name                       |                 Type                  | Default |
| :------------------------- | :-----------------------------------: | :-----: |
| **list**<Required />       |                 Array                 |         |
| **columns**<Required />    |               ReactNode               |         |
| **renderItem**<Required /> | (item: T, index: number) => ReactNode |         |
| **loading**                |                boolean                |  false  |
| **size**                   |          `xs` `sm` `md` `lg`          |  `lg`   |

<Comment />
